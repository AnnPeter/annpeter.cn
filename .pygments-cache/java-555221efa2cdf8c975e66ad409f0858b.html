<div class="highlight"><pre><span class="nd">@Override</span>
<span class="kd">public</span> <span class="n">View</span> <span class="nf">getView</span><span class="o">(</span><span class="kt">int</span> <span class="n">position</span><span class="o">,</span> <span class="n">View</span> <span class="n">convertView</span><span class="o">,</span> <span class="n">ViewGroup</span> <span class="n">parent</span><span class="o">)</span> <span class="o">{</span>
	<span class="n">View</span> <span class="n">view</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
	<span class="n">ViewHolder</span> <span class="n">mHolder</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>

	<span class="n">NEWS</span> <span class="n">news</span> <span class="o">=</span> <span class="n">newsList</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">position</span><span class="o">);</span>

	<span class="k">if</span><span class="o">(</span><span class="n">convertView</span> <span class="o">==</span> <span class="kc">null</span><span class="o">){</span>
		<span class="n">view</span> <span class="o">=</span> <span class="n">View</span><span class="o">.</span><span class="na">inflate</span><span class="o">(</span><span class="n">activity</span><span class="o">,</span> <span class="n">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">item</span><span class="o">,</span> <span class="kc">null</span><span class="o">);</span>

		<span class="n">mHolder</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">ViewHolder</span><span class="o">();</span>
		<span class="n">mHolder</span><span class="o">.</span><span class="na">title</span> <span class="o">=</span>  <span class="o">(</span><span class="n">TextView</span><span class="o">)</span><span class="n">view</span><span class="o">.</span><span class="na">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">title</span><span class="o">);</span>
		<span class="n">mHolder</span><span class="o">.</span><span class="na">body</span> <span class="o">=</span> <span class="o">(</span><span class="n">TextView</span><span class="o">)</span><span class="n">view</span><span class="o">.</span><span class="na">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">body</span><span class="o">);</span>
		<span class="n">mHolder</span><span class="o">.</span><span class="na">read</span> <span class="o">=</span> <span class="o">(</span><span class="n">TextView</span><span class="o">)</span><span class="n">view</span><span class="o">.</span><span class="na">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">readNum</span><span class="o">);</span>
		<span class="n">mHolder</span><span class="o">.</span><span class="na">img</span> <span class="o">=</span> <span class="o">(</span><span class="n">SmartImageView</span><span class="o">)</span><span class="n">view</span><span class="o">.</span><span class="na">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">item_img</span><span class="o">);</span>

		<span class="c1">//以前只是通过convertView将ListView中的每个子条目缓存起来，</span>
		<span class="c1">//现在通过封装一个ViewHolder对象，将每个字条目内部的对象全部缓存起来，</span>
		<span class="c1">//提高了效率</span>
		<span class="n">view</span><span class="o">.</span><span class="na">setTag</span><span class="o">(</span><span class="n">mHolder</span><span class="o">);</span>
	<span class="o">}</span><span class="k">else</span><span class="o">{</span>
		<span class="n">view</span> <span class="o">=</span> <span class="n">convertView</span><span class="o">;</span>
		<span class="n">mHolder</span> <span class="o">=</span> <span class="o">(</span><span class="n">ViewHolder</span><span class="o">)</span> <span class="n">convertView</span><span class="o">.</span><span class="na">getTag</span><span class="o">();</span>
	<span class="o">}</span>

	<span class="n">mHolder</span><span class="o">.</span><span class="na">img</span><span class="o">.</span><span class="na">setImageUrl</span><span class="o">(</span><span class="n">news</span><span class="o">.</span><span class="na">getInfoImgUrl</span><span class="o">());</span>
	<span class="n">mHolder</span><span class="o">.</span><span class="na">title</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="n">news</span><span class="o">.</span><span class="na">getTitle</span><span class="o">());</span>
	<span class="n">mHolder</span><span class="o">.</span><span class="na">body</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="n">news</span><span class="o">.</span><span class="na">getBody</span><span class="o">());</span>
	<span class="n">mHolder</span><span class="o">.</span><span class="na">read</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">&quot;&quot;</span><span class="o">+</span><span class="n">news</span><span class="o">.</span><span class="na">getRead</span><span class="o">()+</span><span class="s">&quot;条阅读量&quot;</span><span class="o">);</span>
	<span class="k">return</span> <span class="n">view</span><span class="o">;</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">ViewHolder</span><span class="o">{</span>
	<span class="n">SmartImageView</span> <span class="n">img</span><span class="o">;</span>
	<span class="n">TextView</span> <span class="n">title</span><span class="o">;</span>
	<span class="n">TextView</span> <span class="n">body</span><span class="o">;</span>
	<span class="n">TextView</span> <span class="n">read</span><span class="o">;</span>
<span class="o">}</span>
</pre></div>
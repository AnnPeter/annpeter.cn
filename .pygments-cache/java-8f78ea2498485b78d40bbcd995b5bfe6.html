<div class="highlight"><pre><span class="n">ImageView</span> <span class="n">iv</span> <span class="o">=</span> <span class="o">(</span><span class="n">ImageView</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">iv</span><span class="o">);</span>
<span class="n">Options</span> <span class="n">op</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">Options</span><span class="o">();</span>
<span class="c1">//设置先不加载像素内容，只加载边界信息，以获取图片大小</span>
<span class="n">op</span><span class="o">.</span><span class="na">inJustDecodeBounds</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
<span class="n">Bitmap</span> <span class="n">bm</span> <span class="o">=</span> <span class="n">BitmapFactory</span><span class="o">.</span><span class="na">decodeFile</span><span class="o">(</span><span class="n">Environment</span><span class="o">.</span><span class="na">getExternalStorageDirectory</span><span class="o">()+</span><span class="s">&quot;/a.jpg&quot;</span><span class="o">,</span> <span class="n">op</span><span class="o">);</span>
</pre></div>
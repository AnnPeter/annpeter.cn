<div class="highlight"><pre><span class="c1">//获取到包的管理者</span>
<span class="n">PackageManager</span> <span class="n">packageManager</span> <span class="o">=</span> <span class="n">content</span><span class="o">.</span><span class="na">getPackageManager</span><span class="o">();</span>

<span class="n">List</span><span class="o">&lt;</span><span class="n">PackageInfo</span><span class="o">&gt;</span> <span class="n">installedPackages</span> <span class="o">=</span> <span class="n">packageManager</span><span class="o">.</span><span class="na">getInstalledPackages</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>
<span class="k">for</span><span class="o">(</span><span class="n">PackageInfo</span> <span class="n">installedPackage</span> <span class="o">:</span> <span class="n">installedPackages</span><span class="o">){</span>
	<span class="c1">//获取到应用程序的图标</span>
	<span class="n">Drawable</span> <span class="n">drawable</span> <span class="o">=</span> <span class="n">installedPackage</span><span class="o">.</span><span class="na">applicationInfo</span><span class="o">.</span><span class="na">loadIcon</span><span class="o">(</span><span class="n">packageManager</span><span class="o">);</span>

	<span class="c1">//获取应用程序的名字</span>
	<span class="n">String</span> <span class="n">apkName</span> <span class="o">=</span> <span class="n">installedPackage</span><span class="o">.</span><span class="na">applicationInfo</span><span class="o">.</span><span class="na">loadLabel</span><span class="o">(</span><span class="n">packageManager</span><span class="o">).</span><span class="na">toString</span><span class="o">();</span>

	<span class="c1">//获取应用程序包名</span>
	<span class="n">String</span> <span class="n">packageName</span> <span class="o">=</span> <span class="n">installedPackage</span><span class="o">.</span><span class="na">packageName</span><span class="o">;</span>

	<span class="c1">//获取到apk资源路径</span>
	<span class="n">String</span> <span class="n">sourceDir</span> <span class="o">=</span> <span class="n">installedPackage</span><span class="o">.</span><span class="na">applicationInfo</span><span class="o">.</span><span class="na">sourceDir</span><span class="o">;</span>

	<span class="n">File</span> <span class="n">file</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">File</span><span class="o">(</span><span class="n">sourceDir</span><span class="o">);</span>
	<span class="c1">//apk的长度</span>
	<span class="kt">long</span> <span class="n">apkSize</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="na">length</span><span class="o">();</span>
<span class="o">}</span>
</pre></div>